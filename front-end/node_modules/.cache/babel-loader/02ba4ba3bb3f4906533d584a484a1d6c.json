{"ast":null,"code":"import _asyncToGenerator from\"E:/School/Bcc/bakalarka/appka/race-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"E:/School/Bcc/bakalarka/appka/race-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"E:/School/Bcc/bakalarka/appka/race-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"E:/School/Bcc/bakalarka/appka/race-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"E:/School/Bcc/bakalarka/appka/race-react/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"E:/School/Bcc/bakalarka/appka/race-react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"E:\\\\School\\\\Bcc\\\\bakalarka\\\\appka\\\\race-react\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import'../styles/Login.css';import React,{Component}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={username:'',password:''};_this.sendLogin=_this.sendLogin.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"sendLogin\",value:function(){var _sendLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var restURL;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:restURL=\"/login_form?username=\"+this.state.username+\"&password=\"+this.state.password;_context.next=3;return fetch(restURL,{method:\"POST\",credentials:'include',headers:{'Access-Control-Allow-Origin':'http://localhost:3000'}}).then(function(response){if(response.status!==202){window.alert(\"Credentials dont match\");window.location.reload(false);}else{window.location.assign(\"/\");}});case 3:case\"end\":return _context.stop();}}},_callee,this);}));function sendLogin(){return _sendLogin.apply(this,arguments);}return sendLogin;}()},{key:\"handleChangePass\",value:function handleChangePass(value){this.setState({password:value});}},{key:\"handleChangeUsername\",value:function handleChangeUsername(value){this.setState({username:value});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"username\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Username : \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.username,className:\"username-input\",onChange:function onChange(event){return _this2.handleChangeUsername(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"password\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Password : \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:this.state.password,className:\"password-input\",onChange:function onChange(event){return _this2.handleChangePass(event.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"login-button\",onClick:this.sendLogin,children:\"Login\"})]});}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["E:/School/Bcc/bakalarka/appka/race-react/src/components/Login.js"],"names":["React","Component","Login","props","state","username","password","sendLogin","bind","restURL","fetch","method","credentials","headers","then","response","status","window","alert","location","reload","assign","value","setState","event","handleChangeUsername","target","handleChangePass"],"mappings":"+3BAAA,MAAO,qBAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,2FAEMC,CAAAA,K,8FAGF,eAAYC,KAAZ,CAAmB,uCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,EADD,CAETC,QAAQ,CAAE,EAFD,CAAb,CAIA,MAAKC,SAAL,CAAiB,MAAKA,SAAL,CAAeC,IAAf,+BAAjB,CANe,aAOlB,C,mDAED,4BAAoB,CACnB,C,2GAED,+IACUC,OADV,CACoB,wBACV,KAAKL,KAAL,CAAWC,QADD,CAEV,YAFU,CAGV,KAAKD,KAAL,CAAWE,QAJrB,uBAKUI,CAAAA,KAAK,CAACD,OAAD,CAAU,CACjBE,MAAM,CAAE,MADS,CAEjBC,WAAW,CAAE,SAFI,CAGjBC,OAAO,CAAE,CACL,8BAA+B,uBAD1B,CAHQ,CAAV,CAAL,CAMHC,IANG,CAME,SAAAC,QAAQ,CAAI,CAChB,GAAGA,QAAQ,CAACC,MAAT,GAAoB,GAAvB,CAA2B,CACvBC,MAAM,CAACC,KAAP,CAAa,wBAAb,EACAD,MAAM,CAACE,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EACH,CAHD,IAII,CACAH,MAAM,CAACE,QAAP,CAAgBE,MAAhB,CAAuB,GAAvB,EAEH,CACJ,CAfK,CALV,4D,qHAuBA,0BAAiBC,KAAjB,CAAwB,CACpB,KAAKC,QAAL,CAAc,CAAEjB,QAAQ,CAAEgB,KAAZ,CAAd,EACH,C,oCACD,8BAAqBA,KAArB,CAA4B,CACxB,KAAKC,QAAL,CAAc,CAAElB,QAAQ,CAAEiB,KAAZ,CAAd,EACH,C,sBACD,iBAAS,iBACL,mBACI,aAAK,SAAS,CAAC,OAAf,wBACI,6BADJ,cAEI,aAAK,SAAS,CAAC,UAAf,wBACI,kCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAE,KAAKlB,KAAL,CAAWC,QAArC,CAA+C,SAAS,CAAC,gBAAzD,CAA0E,QAAQ,CAAE,kBAAAmB,KAAK,QAAI,CAAA,MAAI,CAACC,oBAAL,CAA0BD,KAAK,CAACE,MAAN,CAAaJ,KAAvC,CAAJ,EAAzF,EAFJ,GAFJ,cAMI,aAAK,SAAS,CAAC,UAAf,wBACI,kCADJ,cAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAE,KAAKlB,KAAL,CAAWE,QAAzC,CAAmD,SAAS,CAAC,gBAA7D,CAA8E,QAAQ,CAAE,kBAAAkB,KAAK,QAAI,CAAA,MAAI,CAACG,gBAAL,CAAsBH,KAAK,CAACE,MAAN,CAAaJ,KAAnC,CAAJ,EAA7F,EAFJ,GANJ,cAWI,eAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,KAAKf,SAA/C,mBAXJ,GADJ,CAgBH,C,mBA7DeN,S,EAgEpB,cAAeC,CAAAA,KAAf","sourcesContent":["import '../styles/Login.css';\r\nimport React, { Component } from \"react\";\r\n\r\nclass Login extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n        }\r\n        this.sendLogin = this.sendLogin.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    async sendLogin() {\r\n        const restURL = \"/login_form?username=\"\r\n            + this.state.username\r\n            + \"&password=\"\r\n            + this.state.password;\r\n        await fetch(restURL, {\r\n            method: \"POST\",\r\n            credentials: 'include',\r\n            headers: {\r\n                'Access-Control-Allow-Origin': 'http://localhost:3000',\r\n            }\r\n        }).then(response => {\r\n            if(response.status !== 202){\r\n                window.alert(\"Credentials dont match\")\r\n                window.location.reload(false);\r\n            }\r\n            else{\r\n                window.location.assign(\"/\");\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n    handleChangePass(value) {\r\n        this.setState({ password: value });\r\n    }\r\n    handleChangeUsername(value) {\r\n        this.setState({ username: value });\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"Login\">\r\n                <h2>Login</h2>\r\n                <div className=\"username\">\r\n                    <p>Username : </p>\r\n                    <input type=\"text\" value={this.state.username} className=\"username-input\" onChange={event => this.handleChangeUsername(event.target.value)} />\r\n                </div>\r\n                <div className=\"password\">\r\n                    <p>Password : </p>\r\n                    <input type=\"password\" value={this.state.password} className=\"password-input\" onChange={event => this.handleChangePass(event.target.value)} />\r\n                </div>\r\n\r\n                <button className=\"login-button\" onClick={this.sendLogin}>Login</button>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}